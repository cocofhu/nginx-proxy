{
  "name": "内网域名分流配置",
  "description": "解决内网域名 git.service.arpa 解析问题的配置示例",
  "config": {
    "server_name": "fff.com",
    "listen_ports": [80],
    "locations": [
      {
        "path": "/",
        "upstreams": [
          {
            "condition_ip": "192.168.2.45/32",
            "target": "http://192.168.2.100:3000",
            "comment": "使用 IP 地址替代域名，避免 DNS 解析问题"
          },
          {
            "condition_ip": "0.0.0.0/0",
            "target": "http://192.168.2.1"
          }
        ]
      }
    ]
  },
  "alternatives": {
    "option1": {
      "description": "如果必须使用域名，确保 DNS 服务器能解析 git.service.arpa",
      "target": "http://git.service.arpa"
    },
    "option2": {
      "description": "使用 hosts 文件映射",
      "hosts_entry": "192.168.2.100 git.service.arpa",
      "target": "http://git.service.arpa"
    },
    "option3": {
      "description": "使用 Docker 网络别名",
      "docker_network": "创建自定义网络并设置别名",
      "target": "http://git.service.arpa"
    }
  }
}