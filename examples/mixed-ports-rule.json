{
  "server_name": "app.example.com",
  "listen_ports": [80, 443],
  "ssl_cert": "/etc/nginx/certs/wildcard.crt",
  "ssl_key": "/etc/nginx/certs/wildcard.key",
  "locations": [
    {
      "path": "/",
      "upstreams": [
        {
          "condition_ip": "10.0.0.0/8",
          "target": "http://internal-app:8080"
        },
        {
          "condition_ip": "0.0.0.0/0",
          "target": "http://public-app:8080"
        }
      ]
    }
  ]
}